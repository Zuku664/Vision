<template name="streams">	{{>newsHeader}}	<div class="streamOBJ">	</div>	{{#each daRules}}	<script>	var usernames = '{{names}}';	usernames = usernames.split(',')	var cb = '?client_id={{apiKey}}&callback=?';	var url = "https://api.twitch.tv/kraken/";	var objStore = []	var nameStore = []	var loopCount = 0 ;	var fired = false	// Loop for each username	usernames.forEach(function(channel) {		function makeURL(type, name) {			return url + type + "/" + name + cb;		};		$.getJSON(makeURL("streams", channel), function(data) {			loopCount += 1			let game,			status;			if(data.stream === null) {				game = "Offline";				status = "offline";			} else {				game = data.stream.game;				status = "online";			};			$.getJSON(makeURL("channels", channel), function(data) {				if(status == 'online'){					$('.streamOBJ').append("<div class='videoWrapper'> <iframe class='streamVid' src='http://player.twitch.tv/?autoplay=false&channel="+data.name+"' allowfullscreen='true'> </iframe></div>")					$('.streamOBJ').append("<div class='twitch-widget' id='twitch-widget'><img class='streamLogo' src='"+data.logo+"' /><span class='online'></span>&nbsp;&nbsp; "+ data.name+ ' is playing '+game+"</div>")				}else{					objStore.push(data.logo)				}				loopCount += 1			}).done(function(){				if(loopCount / 2 == usernames.length){					for(var i = 0; i < usernames.length; i++)					if(objStore[i]){						$('.streamOBJ').append("<div class='twitch-widget' id='twitch-widget'><img class='streamLogo' src='"+objStore[i]+"' /><span class='offline'></span>&nbsp;&nbsp;Offline")					}				}			})		});	});	</script>	{{/each}}</template>